; Top Design: "multi_stage_matching_lib:tb_multi_stage_detection:schematic"
; Netlisted using Hierarchy Policy: "Standard"

Options ResourceUsage=yes UseNutmegFormat=no EnableOptim=no TopDesignName="multi_stage_matching_lib:tb_multi_stage_detection:schematic" DcopOutputNodeVoltages=yes DcopOutputPinCurrents=yes DcopOutputAllSweepPoints=no DcopOutputDcopType=0
; Library Name: multi_stage_matching_lib
; Cell Name: LC_tank
; View Name: schematic
define LC_tank ( VDD  VSS ) 
;parameters 
L:L1  VDD VSS L=265 nH Noise=yes  
C:C1  VDD VSS C=2.947 pF 
R:R1  VDD VSS R=60 kOhm Noise=yes 
end LC_tank

; Library Name: multi_stage_matching_lib
; Cell Name: LC_tank_matching
; View Name: schematic
define LC_tank_matching ( VSS  vin  vout ) 
;parameters 
#uselib "ckt" , "INDQ_Z"
INDQ_Z:L1  vin VSS L=4.863 uH Q=50.0 F=100.0 MHz Mode=1 Rdc=0.0 Ohm 
CAPQ:C1  vin N__7 C=0.1621 pF Q=50.0 F=100.0 MHz Mode=1 
#uselib "ckt" , "INDQ_Z"
INDQ_Z:L2  N__7 VSS L=147.4 nH Q=50.0 F=100.0 MHz Mode=1 Rdc=0.0 Ohm 
CAPQ:C2  N__7 vout C=5.895 pF Q=50.0 F=100.0 MHz Mode=1 
end LC_tank_matching

; Library Name: multi_stage_matching_lib
; Cell Name: electron_3layer
; View Name: schematic
define electron_3layer ( VDD  VSS ) 
;parameters 
R:R1  N__0 VSS R=4.01e7 Ohm Noise=yes 
L:L1  VDD N__2 L=35.5 H Noise=yes  
C:C1  N__2 N__0 C=2.2e-20 F 
end electron_3layer

; Library Name: multi_stage_matching_lib
; Cell Name: multi_stage_matching
; View Name: schematic
define multi_stage_matching ( VSS  vin  vout ) 
;parameters 
#uselib "ckt" , "INDQ_Z"
INDQ_Z:L3  vin VSS L=44.43 uH Q=50.0 F=100.0 MHz Mode=1 Rdc=0.0 Ohm 
#uselib "ckt" , "INDQ_Z"
INDQ_Z:L4  N__4 VSS L=444.3 nH Q=50.0 F=100.0 MHz Mode=1 Rdc=0.0 Ohm 
CAPQ:C3  vin N__4 C=0.0178 pF Q=50.0 F=100.0 MHz Mode=1 
CAPQ:C4  N__4 vout C=1.777 pF Q=50.0 F=100.0 MHz Mode=1 
end multi_stage_matching

electron_3layer:X1  N__11 N__1 
multi_stage_matching:X2  0 N__11 vout 
AC:AC1 CalcNoise=yes SortNoise=0 IncludePortNoise=yes BandwidthForNoise=1 Hz FreqConversion=no UseFiniteDiff=no StatusLevel=2 OutputBudgetIV=no DevOpPtLevel=0 \
SweepVar="freq" SweepPlan="AC1_stim" OutputPlan="AC1_Output" 

SweepPlan: AC1_stim Step=0.1 MHz Center=180 MHz Span=100 MHz 

OutputPlan:AC1_Output \
      Type="Output" \
      UseNodeNestLevel=yes \
      NodeNestLevel=2 \
      UseEquationNestLevel=yes \
      EquationNestLevel=2 \
      UseSavedEquationNestLevel=yes \
      SavedEquationNestLevel=2 \
      UseDeviceCurrentNestLevel=no \
      DeviceCurrentNestLevel=0 \
      DeviceCurrentDeviceType="All" \
      DeviceCurrentSymSyntax=yes \
      UseCurrentNestLevel=yes \
      CurrentNestLevel=999 \
      UseDeviceVoltageNestLevel=no \
      DeviceVoltageNestLevel=0 \
      DeviceVoltageDeviceType="All"


Ve=1e-9
Ie=1e-12
I_Source:SRC3  N__1 0 Type="I_1Tone" I[1]=Ie Freq[1]=freq    Iac=polar(1,0)*Ie A 
R:R1  vout 0 R=50 Ohm Noise=yes 
electron_3layer:X4  N__12 N__4 
I_Source:SRC6  N__4 0 Type="I_1Tone" I[1]=Ie Freq[1]=freq    Iac=polar(1,0)*Ie A 
R:R2  vout_LC 0 R=50 Ohm Noise=yes 
LC_tank:X3  N__12 0 
LC_tank_matching:X5  0 N__12 vout_LC 
